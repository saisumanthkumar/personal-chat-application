(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{60:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var c=a(1),s=a(26),n=a.n(s),r=a(10),i=a(3),j=a(17),l=a(2),o=a(5),d=a.n(o),u=a(0);var h=function(){var e=Object(i.f)(),t=Object(c.useState)(""),a=Object(l.a)(t,2),s=a[0],n=a[1],o=Object(c.useState)(""),h=Object(l.a)(o,2),b=h[0],O=h[1],p=Object(c.useState)(!0),m=Object(l.a)(p,2),x=m[0],f=m[1];return Object(u.jsxs)("div",{className:"over",children:[Object(u.jsxs)("div",{className:"blur",children:[Object(u.jsx)("div",{className:"middle"}),Object(u.jsx)("div",{className:"topright"}),Object(u.jsx)("div",{className:"bottomleft"})]}),Object(u.jsx)("div",{className:"bg",children:Object(u.jsx)("div",{className:"container",children:Object(u.jsxs)("form",{onSubmit:function(t){if(t.preventDefault(),b.length>=8){var a={username:s,password:b};d.a.post("https://chitchat951.herokuapp.com/login",a).then((function(t){200===t.status&&(localStorage.setItem("token",JSON.stringify(Object(j.a)(Object(j.a)({},t.data),{},{timestamp:(new Date).getTime()}))),e.push("/user/".concat(t.data.username)))})).catch((function(e){return alert("Please!Check your username and password")}))}else alert("Please!Enter password of length 8 or greater")},children:[Object(u.jsx)("input",{type:"text",placeholder:"Username",value:s,required:!0,onChange:function(e){n(e.target.value)}}),Object(u.jsxs)("div",{className:"pass",children:[Object(u.jsx)("input",{type:"password",placeholder:"Password",id:"password",value:b,required:!0,onChange:function(e){O(e.target.value)}}),Object(u.jsx)("div",{className:"showhide",children:Object(u.jsx)("button",{onClick:function(e){e.preventDefault(),f(!x);var t=document.getElementById("password");t.type=x?"text":"password"},children:x?"SHOW":"HIDE"})})]}),Object(u.jsxs)("p",{children:["Don't have an account?",Object(u.jsx)(r.b,{to:"/Signup",children:" Sign up"})]}),Object(u.jsx)("button",{children:"Login"})]})})})]})};var b=function(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)(""),j=Object(l.a)(n,2),o=j[0],h=j[1],b=Object(c.useState)(""),O=Object(l.a)(b,2),p=O[0],m=O[1],x=Object(c.useState)(""),f=Object(l.a)(x,2),v=f[0],g=f[1],N=Object(i.f)(),S=Object(c.useState)([]),C=Object(l.a)(S,2),k=C[0],w=C[1],y=Object(c.useState)(!0),E=Object(l.a)(y,2),I=E[0],U=E[1],D=Object(c.useState)(!0),L=Object(l.a)(D,2),B=L[0],H=L[1];return Object(c.useEffect)((function(){d.a.get("https://chitchat951.herokuapp.com/users").then((function(e){return w(e.data)}))}),[]),Object(u.jsxs)("div",{className:"over",children:[Object(u.jsxs)("div",{className:"blur",children:[Object(u.jsx)("div",{className:"middle"}),Object(u.jsx)("div",{className:"topright"}),Object(u.jsx)("div",{className:"bottomleft"})]}),Object(u.jsx)("div",{className:"bg",children:Object(u.jsx)("div",{className:"container signup",children:Object(u.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),k.includes(o))alert("User already exists");else if(p.length>=8)if(p===v){var t={name:a,username:o,password:p};d.a.post("https://chitchat951.herokuapp.com/addUser",t),alert("successfully created a account"),N.push("/")}else alert("password and confirm password should be same");else alert("Please!Enter password of length 8 or greater")},children:[Object(u.jsx)("input",{type:"text",value:a,placeholder:"Name",required:!0,onChange:function(e){s(e.target.value)}}),Object(u.jsx)("input",{type:"text",value:o,placeholder:"Username",required:!0,onChange:function(e){h(e.target.value)}}),Object(u.jsxs)("div",{className:"pass",children:[Object(u.jsx)("input",{type:"password",value:p,placeholder:"Password",id:"password",required:!0,onChange:function(e){m(e.target.value)}}),Object(u.jsx)("div",{className:"showhide",children:Object(u.jsx)("button",{onClick:function(e){e.preventDefault(),U(!I);var t=document.getElementById("password");t.type=I?"text":"password"},children:I?"SHOW":"HIDE"})})]}),Object(u.jsxs)("div",{className:"pass",children:[Object(u.jsx)("input",{type:"password",id:"password2",value:v,placeholder:"Confirm password",required:!0,onChange:function(e){g(e.target.value)}}),Object(u.jsx)("div",{className:"showhide",children:Object(u.jsx)("button",{onClick:function(e){e.preventDefault(),H(!B);var t=document.getElementById("password2");t.type=B?"text":"password"},children:B?"SHOW":"HIDE"})})]}),Object(u.jsxs)("p",{children:["Already have an account ?",Object(u.jsx)(r.b,{to:"/",children:" Log In"})]}),Object(u.jsx)("button",{children:"Signup"})]})})})]})},O=a(28);var p=function(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)(!0),r=Object(l.a)(n,2),j=r[0],o=r[1],h=JSON.parse(localStorage.getItem("token")),b=Object(c.useState)([]),p=Object(l.a)(b,2),m=p[0],x=p[1],f=Object(c.useState)([]),v=Object(l.a)(f,2),g=v[0],N=v[1],S=Object(c.useState)(!0),C=Object(l.a)(S,2),k=(C[0],C[1]),w=Object(c.useState)(""),y=Object(l.a)(w,2),E=y[0],I=y[1],U=Object(c.useState)(""),D=Object(l.a)(U,2),L=D[0],B=D[1],H=Object(c.useState)(""),T=Object(l.a)(H,2),A=T[0],q=T[1],M=Object(c.useState)([]),J=Object(l.a)(M,2),P=J[0],F=J[1],R=Object(c.useState)(!1),W=Object(l.a)(R,2),G=W[0],_=W[1],z=Object(c.useState)([]),K=Object(l.a)(z,2),Q=K[0],V=K[1],X=Object(c.useState)(!1),Y=Object(l.a)(X,2),Z=Y[0],$=Y[1],ee=Object(c.useState)(1),te=Object(l.a)(ee,2),ae=te[0],ce=te[1];Object(i.f)(),Object(c.useEffect)((function(){d.a.post("https://chitchat951.herokuapp.com/getUsersChatData",{id:h.id}).then((function(e){return x(e.data.data)})),o(!1)}),[ae]);var se=function(e){var t=e.currentTarget.id;s(t),d.a.post("https://chitchat951.herokuapp.com/participants",{id:t}).then((function(e){return V(e.data)}));var a=e.currentTarget.className;q(a),d.a.post("https://chitchat951.herokuapp.com/getUsersChatMessages",{id:t}).then((function(e){return N(e.data)})),k(!1)};return Object(c.useEffect)((function(){d.a.get("https://chitchat951.herokuapp.com/users").then((function(e){return F(e.data)}))}),[ae]),!0===j?Object(u.jsx)("h1",{children:"Loading..."}):Object(u.jsxs)("div",{className:"main",children:[G&&Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"modal",children:[Object(u.jsx)("button",{onClick:function(){return _(!G)},children:"Close "}),Object(u.jsx)("h3",{children:"ALL USERS"}),P.map((function(e){return Object(u.jsx)("p",{children:e})}))]})}),Z&&Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"modal",children:[Object(u.jsx)("button",{onClick:function(){return $(!Z)},children:"Close"}),Object(u.jsx)("h3",{children:"ALL USERS"}),Q.map((function(e){return Object(u.jsx)("p",{children:e})}))]})}),Object(u.jsx)("div",{className:"topeff"}),Object(u.jsxs)("div",{className:"messages",children:[Object(u.jsxs)("div",{className:"left",children:[Object(u.jsxs)("div",{className:"all",onClick:function(){return _(!G)},children:[Object(u.jsx)("em",{children:"ALL GLOBAL USERS"})," ",Object(u.jsx)("span",{children:P.length})]}),Object(u.jsx)("h2",{children:"All Chats"}),m.map((function(e){return Object(u.jsx)("button",{id:e.chatId,className:e.chatname,onClick:se,children:e.chatname},e.chatId)}))]}),Object(u.jsxs)("div",{className:"right",id:"right",children:[Boolean(!a)&&Object(u.jsx)("div",{className:"intro",children:Object(u.jsxs)("div",{className:"tetx",children:[Object(u.jsx)("h1",{children:Object(u.jsx)("em",{children:" Welcome to CHIT-CHAT"})}),Object(u.jsx)("p",{children:"Share with your friends and start texting..."})]})}),Boolean(a)&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"head",children:[Object(u.jsx)("h2",{children:A}),Object(u.jsxs)("p",{onClick:function(){$(!Z)},children:[Q.length," Users"]})]}),Object(u.jsxs)("div",{className:"addUser",children:[Object(u.jsxs)("div",{className:"auut",children:[Object(u.jsx)("input",{type:"text",value:E,placeholder:"Type username...",onChange:function(e){return I(e.target.value)}}),Object(u.jsx)("button",{onClick:function(){if(E){var e={id:a,username:E};d.a.post("https://chitchat951.herokuapp.com/addUserToChat",e).then((function(e){alert(e.data.msg),console.log(e)})),I("")}},children:"add user"})]}),Object(u.jsx)("div",{className:"refresh",children:Object(u.jsx)("button",{onClick:function(){o(!0),k(!0),d.a.post("https://chitchat951.herokuapp.com/participants",{id:a}).then((function(e){return V(e.data)})),d.a.post("https://chitchat951.herokuapp.com/getUsersChatMessages",{id:a}).then((function(e){return N(e.data)})),ce(ae+1),k(!1),o(!1)},children:"Refresh"})})]})]}),Object(u.jsxs)("div",{className:"allMessages",children:[g.map((function(e){return Object(u.jsxs)("div",{className:h.username===e.username?"sentmess":"message",children:[Object(u.jsxs)("p",{className:"username",children:[e.username," "]}),Object(u.jsx)("p",{className:"messmain",children:e.msg})]},e._id)})),Boolean(a)&&Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"sendMessage",children:Object(u.jsxs)("form",{children:[Object(u.jsx)("input",{type:"text",placeholder:"Type a message...",value:L,onChange:function(e){return B(e.target.value)}}),Object(u.jsx)("button",{type:"submit",onClick:function(e){e.preventDefault(),L&&(document.getElementById("right"),d.a.post("https://chitchat951.herokuapp.com/sendMessage",{id:a,username:h.username,msg:L}),B(""),d.a.post("https://chitchat951.herokuapp.com/getUsersChatMessages",{id:a}).then((function(e){return N(e.data)})))},children:"Send"})]})})}),Object(u.jsx)("div",{id:"last"})]}),Object(u.jsx)("div",{className:"boticon",children:Boolean(a)&&Object(u.jsx)("a",{href:"#last",children:Object(u.jsx)(O.a,{})})})]})]})]})};var m=function(){var e=Object(c.useState)({}),t=Object(l.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)(""),r=Object(l.a)(n,2),j=(r[0],r[1]),o=Object(c.useState)(""),h=Object(l.a)(o,2),b=h[0],O=h[1],m=Object(i.f)();return Object(c.useEffect)((function(){var e=JSON.parse(localStorage.getItem("token"));s(e),d.a.post("https://chitchat951.herokuapp.com/userData",e).then((function(e){"success"===e.data.type?j(e.data.msg):(alert(e.data.msg),m.push("/"))}))}),[]),Object(u.jsxs)("div",{className:"body",children:[Object(u.jsxs)("div",{className:"createChat",children:[Object(u.jsxs)("div",{className:"item",children:[Object(u.jsx)("input",{type:"text",value:b,placeholder:"start a new chat",onChange:function(e){return O(e.target.value)}}),Object(u.jsx)("button",{onClick:function(){if(""!==b){var e={chatname:b,username:a.username};d.a.post("https://chitchat951.herokuapp.com/createChat",e),alert("successfully created chat ".concat(b)),O("")}},children:"Create Chat"})]}),Object(u.jsx)("div",{className:"logout",children:Object(u.jsx)("button",{onClick:function(){localStorage.removeItem("token"),m.push("/")},children:"Logout"})})]}),Object(u.jsx)(p,{})]})};a(60);var x=function(){return Object(u.jsx)("div",{className:"main",children:Object(u.jsx)(r.a,{children:Object(u.jsxs)(i.c,{children:[Object(u.jsx)(i.a,{path:"/personal-chat-application/",exact:!0,component:h}),Object(u.jsx)(i.a,{path:"/Signup",component:b}),Object(u.jsx)(i.a,{path:"/user/:id",component:m})]})})})};n.a.render(Object(u.jsx)(x,{}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.8234fc91.chunk.js.map