{"version":3,"sources":["Components/Login.jsx","Components/Signup.jsx","Components/Messages.jsx","Components/User.jsx","App.jsx","index.jsx"],"names":["Login","history","useHistory","useState","username","setUsername","password","setPassword","pass","setpass","className","onSubmit","e","preventDefault","length","user","axios","post","then","res","status","localStorage","setItem","JSON","stringify","data","timestamp","Date","getTime","push","catch","err","alert","type","placeholder","value","required","onChange","target","id","onClick","document","getElementById","to","Signup","name","setName","confirmPassword","setConfirmPassword","setdata","pass2","setpass2","useEffect","get","includes","userData","Messages","chatid","setchatid","loading","setloading","parse","getItem","chatData","setchatData","messages","setmessages","setmessloading","addUserName","setaddUserName","text","settext","chatname","setchatname","allUsers","setallUsers","modal","setmodal","chatUsers","setchatUsers","modal2","setmodal2","ref","setref","getMessageData","currentTarget","chat","map","item","chatId","Boolean","msg","console","log","_id","href","User","loggedData","setloggedData","setuserData","chatName","setchatName","PostItem","removeItem","App","path","exact","component","ReactDOM","render"],"mappings":"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","file":"static/js/main.8234fc91.chunk.js","sourcesContent":["import axios from \"axios\";\r\nimport React, { useState } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\n\r\nfunction Login() {\r\n  const history = useHistory();\r\n\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const [pass, setpass] = useState(true)\r\n\r\n  const handleLogin = (e) => {\r\n    e.preventDefault();\r\n    if (password.length >= 8) {\r\n      const user = { username, password };\r\n      axios\r\n        .post(\"https://chitchat951.herokuapp.com/login\", user)\r\n        .then((res) => {\r\n          if (res.status === 200) {\r\n            localStorage.setItem(\r\n              \"token\",\r\n              JSON.stringify({ ...res.data, timestamp: new Date().getTime() })\r\n            );\r\n            history.push(`/user/${res.data.username}`);\r\n          }\r\n        })\r\n        .catch((err) => alert(\"Please!Check your username and password\"));\r\n    } else {\r\n      alert(\"Please!Enter password of length 8 or greater\");\r\n    }\r\n  };\r\n\r\n  const showhide =(e)=>{\r\n    e.preventDefault()\r\n    setpass(!pass)\r\n    const password = document.getElementById('password')\r\n    if(pass){\r\n      password.type ='text'\r\n    }\r\n    else{\r\n      password.type ='password'\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"over\">\r\n      <div className=\"blur\">\r\n        <div className=\"middle\"></div>\r\n        <div className=\"topright\"></div>\r\n        <div className=\"bottomleft\"></div>\r\n      </div>\r\n      <div className=\"bg\">\r\n        <div className=\"container\">\r\n          <form onSubmit={handleLogin}>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Username\"\r\n              value={username}\r\n              required\r\n              onChange={(e) => {\r\n                setUsername(e.target.value);\r\n              }}\r\n            />\r\n            <div className=\"pass\">\r\n            <input\r\n              type=\"password\"\r\n              placeholder=\"Password\"\r\n              id=\"password\"\r\n              value={password}\r\n              required\r\n              onChange={(e) => {\r\n                setPassword(e.target.value);\r\n              }}\r\n            />\r\n            <div className=\"showhide\"><button onClick={showhide}>{pass?'SHOW':'HIDE'}</button></div>\r\n            </div>\r\n            <p>\r\n              Don't have an account?<Link to=\"/Signup\"> Sign up</Link>\r\n            </p>\r\n            <button>Login</button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useHistory, Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nfunction Signup() {\r\n  const [name, setName] = useState(\"\");\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\r\n  const history = useHistory();\r\n\r\n  const [data, setdata] = useState([]);\r\n  const [pass, setpass] = useState(true)\r\n  const [pass2, setpass2] = useState(true)\r\n\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(\"https://chitchat951.herokuapp.com/users\")\r\n      .then((res) => setdata(res.data));\r\n  }, []);\r\n  const handleSignup = (e) => {\r\n    e.preventDefault();\r\n    const checkuser = data.includes(username);\r\n    if (!checkuser) {\r\n      if (password.length >= 8) {\r\n        if (password === confirmPassword) {\r\n          const userData = {\r\n            name,\r\n            username,\r\n            password,\r\n          };\r\n          axios.post(\r\n            \"https://chitchat951.herokuapp.com/addUser\",\r\n            userData\r\n          );\r\n          alert(\"successfully created a account\");\r\n          history.push(\"/\");\r\n        } else {\r\n          alert(\"password and confirm password should be same\");\r\n        }\r\n      } else {\r\n        alert(\"Please!Enter password of length 8 or greater\");\r\n      }\r\n    } else {\r\n      alert(\"User already exists\");\r\n    }\r\n  };\r\n  const showhide =(e)=>{\r\n    e.preventDefault()\r\n    setpass(!pass)\r\n    const password = document.getElementById('password')\r\n    if(pass){\r\n      password.type ='text'\r\n    }\r\n    else{\r\n      password.type ='password'\r\n    }\r\n  }\r\n  const showhide2 =(e)=>{\r\n    e.preventDefault()\r\n    setpass2(!pass2)\r\n    const password = document.getElementById('password2')\r\n    if(pass2){\r\n      password.type ='text'\r\n    }\r\n    else{\r\n      password.type ='password'\r\n    }\r\n  }\r\n  return (\r\n    <div className=\"over\">\r\n      <div className=\"blur\">\r\n        <div className=\"middle\"></div>\r\n        <div className=\"topright\"></div>\r\n        <div className=\"bottomleft\"></div>\r\n      </div>\r\n      <div className=\"bg\">\r\n        <div className=\"container signup\">\r\n          <form onSubmit={handleSignup}>\r\n            <input\r\n              type=\"text\"\r\n              value={name}\r\n              placeholder=\"Name\"\r\n              required\r\n              onChange={(e) => {\r\n                setName(e.target.value);\r\n              }}\r\n            />\r\n            <input\r\n              type=\"text\"\r\n              value={username}\r\n              placeholder=\"Username\"\r\n              required\r\n              onChange={(e) => {\r\n                setUsername(e.target.value);\r\n              }}\r\n            />\r\n            <div className=\"pass\">\r\n            <input\r\n              type=\"password\"\r\n              value={password}\r\n              placeholder=\"Password\"\r\n              id=\"password\"\r\n              required\r\n              onChange={(e) => {\r\n                setPassword(e.target.value);\r\n              }}\r\n            />\r\n            <div className=\"showhide\"><button onClick={showhide}>{pass?'SHOW':'HIDE'}</button></div>\r\n            </div>\r\n            <div className=\"pass\">\r\n            <input\r\n              type=\"password\"\r\n              id=\"password2\"\r\n              value={confirmPassword}\r\n              placeholder=\"Confirm password\"\r\n              required\r\n              onChange={(e) => {\r\n                setConfirmPassword(e.target.value);\r\n              }}\r\n            />\r\n            <div className=\"showhide\"><button onClick={showhide2}>{pass2?'SHOW':'HIDE'}</button></div>\r\n\r\n            </div>\r\n            <p>\r\n              Already have an account ?<Link to=\"/\"> Log In</Link>\r\n            </p>\r\n            <button>Signup</button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Signup;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { BsFillCaretDownFill } from \"react-icons/bs\";\r\nimport { useHistory } from \"react-router-dom\";\r\nfunction Messages() {\r\n  const [chatid, setchatid] = useState(\"\");\r\n  const [loading, setloading] = useState(true);\r\n  const data = JSON.parse(localStorage.getItem(\"token\"));\r\n  const [chatData, setchatData] = useState([]);\r\n  const [messages, setmessages] = useState([]);\r\n  const [messloading, setmessloading] = useState(true);\r\n  const [addUserName, setaddUserName] = useState(\"\");\r\n  const [text, settext] = useState(\"\");\r\n  const [chatname, setchatname] = useState(\"\");\r\n  const [allUsers, setallUsers] = useState([]);\r\n  const [modal, setmodal] = useState(false);\r\n  const [chatUsers, setchatUsers] = useState([]);\r\n  const [modal2, setmodal2] = useState(false);\r\n\r\n  const [ref, setref] = useState(1);\r\n  const history = useHistory();\r\n  useEffect(() => {\r\n    axios\r\n      .post(\"https://chitchat951.herokuapp.com/getUsersChatData\", {\r\n        id: data.id,\r\n      })\r\n      .then((res) => setchatData(res.data.data));\r\n    setloading(false);\r\n  }, [ref]);\r\n  const getMessageData = (e) => {\r\n    const id = e.currentTarget.id;\r\n    setchatid(id);\r\n    axios\r\n      .post(\"https://chitchat951.herokuapp.com/participants\", { id: id })\r\n      .then((res) => setchatUsers(res.data));\r\n    const chat = e.currentTarget.className;\r\n    setchatname(chat);\r\n    axios\r\n      .post(\"https://chitchat951.herokuapp.com/getUsersChatMessages\", {\r\n        id: id,\r\n      })\r\n      .then((res) => setmessages(res.data));\r\n    setmessloading(false);\r\n  };\r\n  const addUser = () => {\r\n    if (addUserName) {\r\n      const item = { id: chatid, username: addUserName };\r\n      axios\r\n        .post(\"https://chitchat951.herokuapp.com/addUserToChat\", item)\r\n        .then((res) => {\r\n          alert(res.data.msg);\r\n          console.log(res);\r\n        });\r\n      setaddUserName(\"\");\r\n    }\r\n  };\r\n\r\n  const sendMessage = (e) => {\r\n    e.preventDefault();\r\n    if (text) {\r\n      const messagetab = document.getElementById(\"right\");\r\n\r\n      axios.post(\"https://chitchat951.herokuapp.com/sendMessage\", {\r\n        id: chatid,\r\n        username: data.username,\r\n        msg: text,\r\n      });\r\n      settext(\"\");\r\n      axios\r\n        .post(\"https://chitchat951.herokuapp.com/getUsersChatMessages\", {\r\n          id: chatid,\r\n        })\r\n        .then((res) => setmessages(res.data));\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(\"https://chitchat951.herokuapp.com/users\")\r\n      .then((res) => setallUsers(res.data));\r\n  }, [ref]);\r\n\r\n  const refresh = () => {\r\n    setloading(true);\r\n    setmessloading(true);\r\n    axios\r\n      .post(\"https://chitchat951.herokuapp.com/participants\", { id: chatid })\r\n      .then((res) => setchatUsers(res.data));\r\n\r\n    axios\r\n      .post(\"https://chitchat951.herokuapp.com/getUsersChatMessages\", {\r\n        id: chatid,\r\n      })\r\n      .then((res) => setmessages(res.data));\r\n    setref(ref + 1);\r\n    setmessloading(false);\r\n    setloading(false);\r\n  };\r\n\r\n  if (loading === true) {\r\n    return <h1>Loading...</h1>;\r\n  } else {\r\n    return (\r\n      <div className=\"main\">\r\n        {modal && (\r\n          <>\r\n            <div className=\"modal\">\r\n              <button onClick={() => setmodal(!modal)}>Close </button>\r\n              <h3>ALL USERS</h3>\r\n              {allUsers.map((item) => {\r\n                return <p>{item}</p>;\r\n              })}\r\n            </div>\r\n          </>\r\n        )}\r\n        {modal2 && (\r\n          <>\r\n            <div className=\"modal\">\r\n              <button onClick={() => setmodal2(!modal2)}>Close</button>\r\n              <h3>ALL USERS</h3>\r\n              {chatUsers.map((item) => {\r\n                return <p>{item}</p>;\r\n              })}\r\n            </div>\r\n          </>\r\n        )}\r\n        <div className=\"topeff\"></div>\r\n        <div className=\"messages\">\r\n          <div className=\"left\">\r\n            <div className=\"all\" onClick={() => setmodal(!modal)}>\r\n              <em>ALL GLOBAL USERS</em> <span>{allUsers.length}</span>\r\n            </div>\r\n\r\n            <h2>All Chats</h2>\r\n\r\n            {chatData.map((item) => (\r\n              <button\r\n                key={item.chatId}\r\n                id={item.chatId}\r\n                className={item.chatname}\r\n                onClick={getMessageData}\r\n              >\r\n                {item.chatname}\r\n              </button>\r\n            ))}\r\n          </div>\r\n          <div className=\"right\" id=\"right\">\r\n            {Boolean(!chatid) && (\r\n              <div className=\"intro\">\r\n                <div className=\"tetx\">\r\n                  <h1>\r\n                    <em> Welcome to CHIT-CHAT</em>\r\n                  </h1>\r\n                  <p>Share with your friends and start texting...</p>\r\n                </div>\r\n              </div>\r\n            )}\r\n            {Boolean(chatid) && (\r\n              <>\r\n                <div className=\"head\">\r\n                  <h2>{chatname}</h2>\r\n                  <p\r\n                    onClick={() => {\r\n                      setmodal2(!modal2);\r\n                    }}\r\n                  >\r\n                    {chatUsers.length} Users\r\n                  </p>\r\n                </div>\r\n\r\n                <div className=\"addUser\">\r\n                  <div className=\"auut\">\r\n                    <input\r\n                      type=\"text\"\r\n                      value={addUserName}\r\n                      placeholder=\"Type username...\"\r\n                      onChange={(e) => setaddUserName(e.target.value)}\r\n                    />\r\n                    <button onClick={addUser}>add user</button>\r\n                  </div>\r\n                  <div className=\"refresh\">\r\n                    <button onClick={refresh}>Refresh</button>\r\n                  </div>\r\n                </div>\r\n              </>\r\n            )}\r\n            <div className=\"allMessages\">\r\n              {messages.map((item) => {\r\n                return (\r\n                  <div\r\n                    className={\r\n                      data.username === item.username ? \"sentmess\" : \"message\"\r\n                    }\r\n                    key={item._id}\r\n                  >\r\n                    <p className=\"username\">{item.username} </p>\r\n                    <p className=\"messmain\">{item.msg}</p>\r\n                  </div>\r\n                );\r\n              })}\r\n              {Boolean(chatid) && (\r\n                <>\r\n                  <div className=\"sendMessage\">\r\n                    <form>\r\n                      <input\r\n                        type=\"text\"\r\n                        placeholder=\"Type a message...\"\r\n                        value={text}\r\n                        onChange={(e) => settext(e.target.value)}\r\n                      />\r\n                      <button type=\"submit\" onClick={sendMessage}>\r\n                        Send\r\n                      </button>\r\n                    </form>\r\n                  </div>\r\n                </>\r\n              )}\r\n              <div id=\"last\"></div>\r\n            </div>\r\n            <div className=\"boticon\">\r\n              {Boolean(chatid) && <a href=\"#last\">\r\n                <BsFillCaretDownFill />\r\n              </a>}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Messages;\r\n","import axios from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport Messages from \"./Messages\";\r\n\r\nfunction User() {\r\n  const [loggedData, setloggedData] = useState({});\r\n  const [userData, setuserData] = useState(\"\");\r\n  const [chatName, setchatName] = useState(\"\");\r\n\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    const data = JSON.parse(localStorage.getItem(\"token\"));\r\n    setloggedData(data);\r\n    axios\r\n      .post(\"https://chitchat951.herokuapp.com/userData\", data)\r\n      .then((res) => {\r\n        if (res.data.type === \"success\") {\r\n          setuserData(res.data.msg);\r\n        } else {\r\n          alert(res.data.msg);\r\n          history.push(\"/\");\r\n        }\r\n      });\r\n  }, []);\r\n\r\n  const createChat = () => {\r\n    if (chatName !== \"\") {\r\n      const PostItem = { chatname: chatName, username: loggedData.username };\r\n      axios.post(\r\n        \"https://chitchat951.herokuapp.com/createChat\",\r\n        PostItem\r\n      );\r\n      alert(`successfully created chat ${chatName}`);\r\n      setchatName(\"\");\r\n    }\r\n  };\r\n  const logout = () => {\r\n    localStorage.removeItem(\"token\");\r\n    history.push(\"/\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"body\">\r\n      \r\n      <div className=\"createChat\">\r\n        <div className=\"item\">\r\n          <input\r\n            type=\"text\"\r\n            value={chatName}\r\n            placeholder=\"start a new chat\"\r\n            onChange={(e) => setchatName(e.target.value)}\r\n          />\r\n          <button onClick={createChat}>Create Chat</button>\r\n        </div>\r\n        <div className=\"logout\">\r\n          <button onClick={logout}>Logout</button>\r\n        </div>\r\n      </div>\r\n      <Messages />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default User;\r\n","import React from \"react\";\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\nimport Login from \"./Components/Login\";\r\nimport Signup from \"./Components/Signup\";\r\nimport User from \"./Components/User\";\r\nimport './App.css'\r\nfunction App() {\r\n  return (\r\n    <div className=\"main\">\r\n      <Router>\r\n        <Switch>\r\n          <Route path=\"/personal-chat-application/\" exact component={Login} />\r\n          <Route path=\"/Signup\" component={Signup} />\r\n          <Route path=\"/user/:id\" component={User} />\r\n        </Switch>\r\n      </Router>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />,document.getElementById('root'));\r\n\r\n"],"sourceRoot":""}